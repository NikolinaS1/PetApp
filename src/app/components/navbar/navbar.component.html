<nav class="main-nav">
  <div class="logo-menu-block">
    <div class="logo">
      <img src="../../../assets/logo.png" routerLink="/" />
    </div>
    <div class="menu-icon" fxShow="true" fxHide.gt-sm="true">
      <mat-icon (click)="sidenav.toggle()">menu</mat-icon>
    </div>
  </div>
  <form class="search-form">
    <mat-form-field class="search" [style.width.px]="392">
      <mat-label>Search</mat-label>
      <input
        type="search"
        matInput
        [formControl]="searchControl"
        [matAutocomplete]="auto"
        placeholder="Search..."
      />
      <mat-icon matSuffix>search</mat-icon>
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option
          *ngFor="let user of filteredUsers | async"
          [value]="user.firstName"
        >
          <div class="user-info" (click)="navigateToUserProfile(user.id)">
            <img
              *ngIf="user.profileImageUrl; else noImage"
              class="user"
              [src]="user.profileImageUrl"
              alt="User Image"
            />
            <ng-template #noImage>
              <img
                src="../../../assets/profile-icon.png"
                class="user"
                alt="Default Profile Image"
              />
            </ng-template>
            <div class="text-content">
              <span class="name">{{ user.firstName }} {{ user.lastName }}</span>
            </div>
          </div>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </form>
  <ul class="nav-links">
    <li matTooltip="Home">
      <a routerLink="/" class="nav-link">
        <mat-icon>home</mat-icon>
      </a>
    </li>
    <li matTooltip="Profile">
      <a (click)="navigateToCurrentUserProfile()" class="nav-link">
        <mat-icon>person</mat-icon>
      </a>
    </li>
    <li matTooltip="Messages">
      <a routerLink="/messages" class="nav-link">
        <mat-icon matBadge="3" matBadgeColor="accent">message</mat-icon>
      </a>
    </li>
    <li matTooltip="Notifications">
      <a routerLink="/notifications" class="nav-link">
        <mat-icon matBadge="6" matBadgeColor="accent">notifications</mat-icon>
      </a>
    </li>
    <li>
      <mat-icon
        color="accent"
        (click)="authenticationService.logout()"
        test-id="logout-button"
        matTooltip="Logout"
        >exit_to_app</mat-icon
      >
    </li>
  </ul>
</nav>
<mat-sidenav-container autosize="true">
  <mat-sidenav>
    <mat-nav-list>
      <a routerLink="/" mat-list-item>
        <span class="entry">
          <mat-icon>home</mat-icon>
          <span>Home</span>
        </span>
      </a>
      <a routerLink="/profile" mat-list-item>
        <span class="entry">
          <mat-icon>person</mat-icon>
          <span>Profile</span>
        </span>
      </a>
      <a mat-list-item>
        <span class="entry">
          <mat-icon>message</mat-icon>
          <span>Mesages</span>
        </span>
      </a>
      <a mat-list-item>
        <span class="entry">
          <mat-icon>notifications</mat-icon>
          <span>Notifications</span>
        </span>
      </a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
